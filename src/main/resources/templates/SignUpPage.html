<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>Shop Item - Start Bootstrap Template</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico"/>
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet"/>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet"/>
    <!--회원 가입 내용을 json으로 변환하여 전달-->
    <!-- <script>
         document.getElementById("myForm").addEventListener("submit", function(event) {
             event.preventDefault();

             var formData = {
                 // 폼 필드들의 데이터를 수집
             };

             var xhr = new XMLHttpRequest();
             xhr.open("POST", "/users/create", true);
             xhr.setRequestHeader("Content-Type", "application/json");

             xhr.onreadystatechange = function() {
                 if (xhr.readyState === 4) {
                     if (xhr.status === 200) {
                         var data = JSON.parse(xhr.responseText);
                         console.log("Success:", data);
                     } else {
                         console.error("Error:", xhr.statusText);
                     }
                 }
             };

             xhr.send(JSON.stringify(formData));
         });
     </script>-->
</head>
<body>
<!-- Navigation-->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container px-4 px-lg-5">
        <a class="navbar-brand" href="#!">Start Bootstrap</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span
                class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
                <li class="nav-item"><a class="nav-link active" aria-current="page" href="#!">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="#!">About</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">Shop</a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="#!">All Products</a></li>
                        <li>
                            <hr class="dropdown-divider"/>
                        </li>
                        <li><a class="dropdown-item" href="#!">Popular Items</a></li>
                        <li><a class="dropdown-item" href="#!">New Arrivals</a></li>
                    </ul>
                </li>
            </ul>

            <form class="d-flex">
                <button style="margin-right: 5px;" class="btn btn-outline-dark" type="submit">
                    회원가입
                </button>
                <button style="margin-right: 5px;" class="btn btn-outline-dark" type="submit">
                    로그인
                </button>
                <button class="btn btn-outline-dark" type="submit">
                    내 정보
                </button>
            </form>
        </div>
    </div>
</nav>

<header class="bg-dark py-5">
    <div class="container px-4 px-lg-5 my-5">
        <div class="text-center text-white">
            <h1 class="display-4 fw-bolder">회원가입</h1>
            <p class="lead fw-normal text-white-50 mb-0">With this shop hompeage template</p>
        </div>
    </div>
</header>

<div class="container">
    <form style="margin: 50px;" class="form-control" method="post" id="SignUp" th:action ="@{/users/signup}" th:object="${user}">
        <div class="mb-3" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">
            <label class="form-label" for ="email" >아이디(이메일 주소)</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" name="email" id ="email" th:field ="*{email}" placeholder="xxx@gmail.com와 같이 입력하세요." >
            </div>
        </div>
        <div class="mb-3">
            <label class="form-label">비밀번호 </label>
            <div class="col-sm-3">
                <input type="password" class="form-control" name="password" th:field="*{password}">
            </div>
        </div>
        <div class="mb-3">
            <!--해당 부분은 보안성 강화를 위해 Js를 활용하거나, 다른 방법을 활용하여 구사하기 바람. DTO에 구현 안해놨음.
            복잡해질 거 같아서.-->
            <label class="form-label">비밀번호 확인 </label>
            <div class="col-sm-3">
                <input type="password" class="form-control" name="confirmPassword" id="confirmPassword">
            </div>
        </div>
        <div class="mb-3">
            <label class="form-label">이름 </label>
            <div class="col-sm-3">
                <input type="text" class="form-control" name="userName" th:field="*{userName}">
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">생년월일 </label>
            <div class="col-sm-3">
                <input type="text" maxlength="8" size="8" id="birth" name="birth" placeholder="(yyyy/mm/dd)"
                       class="form-control">
            </div>
        </div>
        <!--<div class="mb-3">
            <label class="form-label">이메일 </label>
            <div class="col-sm-3">
            <input type="text" class="form-control" name ="email">
            </div>
        </div>-->
        <div class="mb-3">
            <label class="form-label">전화번호</label>
            <div class="col-sm-3">
                <p><select>
                    <option value="010" selected>010</option>
                    <option value="011">011</option>
                    <option value="012">012</option>
                    <option value="013">013</option>
                    <option value="014">014</option>
                </select> - <input type="text" maxlength="4" size="4"> - <input type="text" maxlength="4" size="4">
                </p>
            </div>
        </div>
        <!--전송 버튼-->
        <div class="mb-3">
            <div class="col-sm-offset-2 col-sm-10">
                <input type="submit" class="btn btn-primary" value="가입하기">
            </div>
        </div>
    </form>
</div>


<!-- Footer-->
<footer class="py-5 bg-dark">
    <div class="container"><p class="m-0 text-center text-white">Copyright &copy; Your Website 2023</p></div>
</footer>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="js/scripts.js"></script>
</body>
</html>

